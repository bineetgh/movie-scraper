{% extends "base.html" %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Random Movie Picks",
    "url": "{{ base_url }}/random-picks",
    "description": "{{ page_description }}"
}
</script>
{% endblock %}

{% block content %}
<section>
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap; gap: 10px;">
        <h2 style="font-size: 1.3rem; color: var(--text); margin: 0;">
            Random Picks
            <span style="font-size: 0.85rem; color: var(--text-muted); font-weight: 400; margin-left: 10px;">
                {{ movies | length }} movies
            </span>
        </h2>
        <button onclick="window.location.reload()" class="refresh-btn" style="
            background: linear-gradient(135deg, var(--accent), var(--accent-secondary));
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: transform 0.2s, box-shadow 0.2s;
        " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 15px rgba(255,71,87,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 2v6h-6"></path>
                <path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path>
                <path d="M3 22v-6h6"></path>
                <path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path>
            </svg>
            Shuffle
        </button>
    </div>

    <p style="color: var(--text-muted); margin-bottom: 20px; font-size: 0.95rem;">
        Can't decide what to watch? Here are some random picks for you. Click shuffle for a fresh selection!
    </p>

    <div class="movies-grid">
        {% for movie in movies %}
        {% include "components/movie_card.html" %}
        {% endfor %}
    </div>

    {% if movies | length == 0 %}
    <div class="no-results">
        <div class="no-results-icon">ðŸŽ²</div>
        <h3>No movies available</h3>
        <p>Check back soon for new content!</p>
    </div>
    {% endif %}
</section>
{% endblock %}
